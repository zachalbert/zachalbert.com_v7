/* Jokes courtesy of Laffy Taffy */
let laffs = [
  [
    'What did the horse say when he fell down?',
    'Help, I\'ve fallen and I can\'t giddyup!'
  ], [
    'How do you communicate with a fish?',
    'You drop it a line.'
  ], [
    'What do you call a lease of false teeth?',
    'A dental rental.'
  ], [
    'Why does Where\'s Waldo wear stripes?',
    'He doesn\'t want to be spotted.'
  ], [
    'What happened after David had his ID stolen?',
    'We had to call him Dav.'
  ], [
    'How do dinosaurs decorate their kitchens?',
    'With rep-tiles!'
  ], [
    'Do you know what\'s really odd?',
    'Numbers not divisible by 2.'
  ], [
    'What is the raddest aircraft?',
    'The hella-copter.'
  ], [
    'What do you call an angry pea?',
    'Grum-pea.'
  ], [
    'What did the house wear to the party?',
    'Address.'
  ], [
    'Why do bananas have to put on sunscreen?',
    'They might peel.'
  ], [
    'Why did the orange lose the race?',
    'It ran out of juice.'
  ], [
    'What kind of shoes do frogs wear?',
    'Open toed.'
  ], [
    'What lies at the bottom of the ocean and twitches?',
    'A nervous wreck.'
  ], [
    'Why don\'t lobsters share?',
    'Because they are shellfish.'
  ], [
    'What did the skunk say when the wind changed direction?',
    'It all comes back to me now.'
  ], [
    'Why do phones ring?',
    'Because they can\'t talk!'
  ], [
    'What is the biggest room in the world?',
    'Room for improvement.'
  ], [
    'What opens and shuts but is not a door or a window?',
    'Your mind.'
  ], [
    'Where do kittens go on their class trip?',
    'To the meowseum.'
  ], [
    'What falls down but never gets hurt?',
    'Snow!'
  ], [
    'Why do marsupials make such good tea?',
    'It\'s koala tea.'
  ], [
    'What do you call a happy cowboy?',
    'A jolly rancher.'
  ], [
    'Why did the mushroom get invited to the party?',
    'He was a fungi.'
  ], [
    'What did the buffalo say to his kid when he went to work?',
    'Bison.'
  ], [
    'What do you call a fancy sea creature?',
    'Sofishticated.'
  ], [
    'What kind of dog doesn\'t bark?',
    'A hush puppy.'
  ], [
    'What planet is like a circus?',
    'Saturn, it has three rings!'
  ], [
    'Why do seagulls fly over the sea?',
    'Because if they flew over the bay they would be called bagels.'
  ], [
    'Why do fish always sing off key?',
    'Because you can\'t tuna fish.'
  ], [
    'How do you know it\'s been raining cats and dogs?',
    'You step in a poodle.'
  ], [
    'What do you call a sad strawberry?',
    'A blueberry.'
  ], [
    'Why did the lion eat a lightbulb?',
    'He wanted a light lunch.'
  ], [
    'How does the moon cut his hair?',
    'Eclipse it.'
  ], [
    'What kind of bee can\'t make up his mind?',
    'A maybe.'
  ], [
    'How do you organize a space party?',
    'Planet.'
  ], [
    'Why did the banana go to the doctor?',
    'He wasn\'t peeling well.'
  ], [
    'What do you call a pig that does karate?',
    'A pork chop.'
  ], [
    'Why can\'t you give Elsa a balloon?',
    'She\'d let it go.'
  ], [
    'What do you call a lazy kangaroo?',
    'A pouch potato.'
  ], [
    'What do you get when you cross a pig and a Christmas tree?',
    'A porcupine.'
  ], [
    'Why is a pancake like the sun?',
    'Because it rises in the yeast.'
  ], [
    'What did the bee say to the flower?',
    'Hi bud!'
  ], [
    'Why didn\'t the little girl want to leave nursery school?',
    'She wanted to be a nurse when she grew up.'
  ], [
    'What is ten and ten?',
    'Numbers.'
  ], [
    'What should you do if you\'re carried out to sea on an iceberg?',
    'Keep cool.'
  ], [
    'Why are sponges depressed?',
    'They\'re always soaking.'
  ], [
    'Why did the basketball player bring a duck to the game?',
    'He wanted to shoot a foul shot.'
  ], [
    'What did the fork say to the spoon?',
    'Who\'s that sharp guy next to you?'
  ], [
    'What should you do if you don\'t have any rubber bands?',
    'See if you can find a plastic orchestra.'
  ], [
    'What is thin, white, and scary?',
    'Homework.'
  ], [
    'What\'s a mummy\'s favorite food?',
    'Wraps.'
  ], [
    'What kind of tea is the hardest?',
    'Reality.'
  ], [
    'Why don\'t birds follow directions?',
    'They like to wing it.'
  ], [
    'Why should you never use a dull pencil?',
    'It\'s pointless.'
  ], [
    'Where do hamsters go on vacation?',
    'Hamsterdam.'
  ], [
    'Why did the bird go to the hospital?',
    'To get tweetment.'
  ], [
    'Where do cows go on Friday night?',
    'To the mooovies.'
  ], [
    'What did the lunch lady say to Luke Skywalker?',
    'Use the forks, Luke.'
  ], [
    'What did zero say to 8?',
    'Nice belt.'
  ], [
    'What do you call a pile of cats?',
    'A meowtain.'
  ], [
    'Who took the frog\'s car?',
    'It was toad.'
  ], [
    'What do you call a fake noodle?',
    'An impasta.'
  ], [
    'Why did the skeleton go to the movie by itself?',
    'It had no body.'
  ], [
    'What\'s a parasite?',
    'A place you go in Paris.'
  ], [
    'Why is a bad joke like a bad pencil?',
    'Because it has no point.'
  ], [
    'Why did the chicken go to the library?',
    'To check out a bawk.'
  ], [
    'What runs around a soccer field but never moves?',
    'A fence.'
  ], [
    'If fruit comes from a fruit tree, where does chicken come from? ',
    'A poultry.'
  ], [
    'What do you get when you cross a grape with a lion?',
    'A grape nobody picks on.'
  ], [
    'How do you get a peanut to laugh?',
    'Crack it up.'
  ], [
    'Why is a swordfish’s nose 11 inches long?',
    'If it was twelve inches it would be a foot.'
  ], [
    'What did the pancake say to the baseball player?',
    'Batter up!'
  ], [
    'What did the cheerleader say to the ghost?',
    'Show your spirit!'
  ], [
    'Why did the belt go to jail?',
    'It held up a pair of pants.'
  ], [
    'Why was the apple so mean?',
    'It was a crab apple.'
  ], [
    'What do you call a crab that plays baseball?',
    'A pinch hitter.'
  ], [
    'What is the clumsiest bee?',
    'A bumbling bee.'
  ], [
    'What kind of chain is edible?',
    'A food chain.'
  ], [
    'How Do you get a baby astronaut to sleep?',
    'Rocket'
  ], [
    'What has one horn and gives milk?',
    'A milk truck.'
  ], [
    'What goes tick-tock, woof-woof?',
    'A watch dog.'
  ], [
    'How do you shoot a killer bee?',
    'With a bee bee gun.'
  ], [
    'Why did the bowling pins stop working?',
    'They went on a strike.'
  ], [
    'Why did the man throw his margarine?',
    'He wanted to see the butter fly.'
  ], [
    'What did one triangle say to the other triangle?',
    'Let\'s get together and square dance.'
  ], [
    'What do you call a cat that eats lemons?',
    'A sour puss.'
  ], [
    'Why did the strawberry cross the road? ',
    'His mother was in a jam.'
  ], [
    'What do you call a cow with a twitch?',
    'Beef jerky.'
  ], [
    'What is the best way to keep water from running?',
    'Stop paying the water bill.'
  ], [
    'What time was is when the elephant sat on a chair?',
    'Time to get a new chair.'
  ], [
    'What did one eye say to the other?',
    'Between me and you something smells.'
  ], [
    'Why did the chicken cross the playground?',
    'To get to the other slide!'
  ], [
    'What is smarter than a talking bird?',
    'A spelling bee.'
  ], [
    'What did the grass say to the ball field?',
    'I want to root for you.'
  ], [
    'What kind of tea cannot be taken into space?',
    'Gravity.'
  ], [
    'Why do hamburgers go south for the winter?',
    'So they don\'t freeze their buns!'
  ], [
    'What did the finger say to the thumb?',
    'I\'m in glove with you.'
  ], [
    'How do billboards talk?',
    'Sign language.'
  ], [
    'What kind of brush do you use to comb a bee’s hair?',
    'A honeycomb.'
  ], [
    'Why was the cat afraid of the tree?',
    'Because of it\'s bark!'
  ], [
    'What did one shoe say to the other?',
    'Don\'t stick your tongue out at me!'
  ], [
    'What did the ground say to the dinosaur\'s footprint?',
    'You made a big impression on me.'
  ], [
    'Did you hear the joke about the toilet?',
    'Never mind, it\'s too dirty.'
  ], [
    'What did the guy say to the horse when he walked into the bar?',
    'Why the long face?'
  ], [
    'When do you stop at green and go at red?',
    'When you\'re eating a watermelon!'
  ], [
    'What did the flower say to the bike? ',
    'Petal.'
  ], [
    'Why do we not tell secrets in a corn patch? ',
    'Too many ears.'
  ], [
    'What kind of tree grows in your hands?',
    'A palmtree!'
  ], [
    'What kind of bean can’t grow?',
    'A jellybean.'
  ], [
    'What happens when you cross a singer and a rocking chair?',
    'You rock to the beat.'
  ], [
    'How do you mend a broken jack o’ lantern? ',
    'A pumpkin patch.'
  ], [
    'Where can you find an ocean without water?',
    'A map.'
  ], [
    'What do you call a baby with a drum?',
    'A baby boomer.'
  ], [
    'Whats green and fluffy and comes from mars?',
    'A martian mellow.'
  ], [
    'Why couldn\'t the shoes go out to play?',
    'They were all tied up.'
  ], [
    'How do you turn soup into gold?',
    'Add 24 carrots.'
  ], [
    'Why couldn\'t the leopard go on vacation?',
    'He couldn\'t find the right spot!'
  ], [
    'What do you do if a rhino charges you?',
    'Give him your credit card.'
  ], [
    'Why did they bury the battery?',
    'Because it was dead.'
  ], [
    'How do you cut the ocean in half?',
    'With a sea saw.'
  ], [
    'What do you call a car that never sleeps?',
    'Cargo!'
  ], [
    'What foods are good for young people?',
    'The pro-teens!'
  ], [
    'What did Tennessee?',
    'The same think Arkansas.'
  ], [
    'What do sneezes wear on their feet?',
    'Their ahhhh-shoes.'
  ], [
    'What building has the most stories?',
    'The library.'
  ], [
    'What do you call a sleeping bull?',
    'A bulldozer.'
  ], [
    'Can February march?',
    'No, but April May.'
  ], [
    'What do wolves say when they are introduced?',
    'Howl do you do?'
  ], [
    'What does a car run on?',
    'Wheels.'
  ], [
    'Why did the farmer bury all his money?',
    'To make his soil rich.'
  ], [
    'What did one campfire say to the other?',
    'Let\'s go out one of these days!'
  ], [
    'What do you call a cow with no legs?',
    'Ground beef.'
  ], [
    'What kind of bear has no teeth?',
    'A gummy bear.'
  ], [
    'What room can no one enter?',
    'A mushroom.'
  ], [
    'When does it rain money?',
    'When there\'s a change in the weather.'
  ], [
    'Why was the tomato blushing?',
    'It saw the salad dressing.'
  ], [
    'What do frogs order at a restaurant?',
    'French flies.'
  ], [
    'What do you call a grandmother who tells jokes?',
    'A gram cracker.'
  ], [
    'What do you call a horse that likes arts & crafts?',
    'A hobby horse.'
  ], [
    'Why do shoemakers go to heaven?',
    'They have good soles.'
  ], [
    'What do you get if you cross a stereo and a fridge?',
    'Very cool music!'
  ], [
    'What do you call an avid gardener?',
    'Herb.'
  ], [
    'What do astronauts eat for dinner?',
    'Launch meat.'
  ], [
    'What is the best way to raise a child?',
    'In an elevator.'
  ], [
    'Where does a penguin keep his money?',
    'A snow bank.'
  ], [
    'What is always behind the time?',
    'The back of the clock.'
  ], [
    'What word is always spelled incorrectly?',
    'Incorrectly.'
  ], [
    'What should you do if your dog is missing?',
    'The lost and hound.'
  ], [
    'What has no legs but can do a split?',
    'A banana.'
  ]
];

function getRandomJoke( id ) {
  if( id != null ) {
    return laffs[id];
  } else {
    return laffs[ Math.floor( Math.random() * laffs.length ) ];
  }
}

function updateJoke() {

}

function tellMeAJoke( duration = 6500 ) {
  let jokeEl = $('#joke');
  let punchlineEl = $('#punchline');
  let fadeTime = 500;

  let randomId = Math.floor( Math.random() * laffs.length );
  let initialJoke = getRandomJoke( randomId );
  let lastJoke = randomId;
  jokeEl.text( initialJoke[0] );
  punchlineEl.text( initialJoke[1] );

  let jokeInterval = setInterval( function() {
    // Get a random joke that is different from the last one
    do {
      // Get a random joke array, assign to variables
      randomId = Math.floor( Math.random() * laffs.length );
    } while( randomId == lastJoke );
    let randomJoke = getRandomJoke( randomId );

    // Update lastJoke with the selected id
    lastJoke = randomId;

    // Assign joke and punchline to separate variables
    let joke = randomJoke[0];
    let punchline = randomJoke[1];

    // Animate the text
    jokeEl.fadeOut( 0 ).text( joke ).fadeIn( fadeTime ).delay( duration - (fadeTime*3) ).fadeOut( fadeTime );
    punchlineEl.fadeOut( 0 ).text( punchline ).delay( (duration/2) - fadeTime ).fadeIn( fadeTime ).delay( (duration/2) - (fadeTime*2) ).fadeOut( fadeTime );

  }, duration / .9 );
}

tellMeAJoke();
